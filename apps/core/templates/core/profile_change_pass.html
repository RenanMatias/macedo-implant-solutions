{% extends 'global/base.html' %}
{% load static %}

{% block title%}Alteração de Senha{%endblock title %}
{% block content %}
  <div class="flex bg-gray-50">
    {% include 'core/partials/menu/profile.html' %}
    <div class="flex min-h-screen w-full flex-col">
      {% include 'core/partials/header.html' %}
      <h1 class="p-3 text-2xl font-medium text-stone-700">Minha Conta</h1>
      <div class="flex flex-grow">
        <main class="grid w-full gap-4 px-3 md:grid-cols-3">
          <div
            class="flex flex-col items-center justify-center rounded-md bg-white p-5 md:justify-start"
          >
            {% if user.picture %}
              <img class="rounded-full p-1 shadow-xl w-52 h-52" src="{{ user.picture.url }}" />
            {% else %}
              <div class="
                          rounded-full
                          p-1
                          shadow-xl
                          w-52 h-52 bg-indigo-500 text-white 
                          flex justify-center items-center text-7xl">
                  {{ user.first_letter_first_name }}{{ user.first_letter_last_name }}
              </div>
            {% endif %}
            <div class="pt-2">{{ user.get_full_name }}</div>
            <div>Perfil</div>
          </div>
          <div class="rounded-md bg-white p-5 md:col-span-2">
            <div class="flex flex-col gap-3">
              <div class="flex h-11 items-center justify-center rounded-md bg-indigo-500 text-white">
                Alterar Senha
              </div>
              <!-- Flash Message -->
              {% if messages %}
                {% for message in messages %}
                  <div class="mt-3 {{ message.tags }}">
                    <i class="bi bi-check-lg"></i> {{ message }}
                  </div>
                {% endfor %}
              {% endif %}
              <form id="{{ form_id }}" action="" class="form-content" method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                {% for field in form %}
                  <div>
                    <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                    {{ field }}
                    {% if field.help_text %}
                      <small class="text-red-500">{{ field.help_text }}</small>
                    {% endif %}
                    <small class="text-red-500">{{ field.errors }}</small>
                  </div>
                {% endfor %}
                <div class="flex justify-center space-x-10">
                  <button type="submit" class="w-60 h-14 mt-3 rounded-md bg-indigo-600
                                                                  hover:bg-indigo-800 text-sm font-medium leading-10
                                                                  text-white shadow-lg shadow-indigo-500/50">
                    <span class="{{ button_icon }} text-2xl inline-block align-middle mr-1"></span> {{ button_title }}
                  </button>
                </div>
              </form>
              <br>
              <h1 class="font-bold">Importante:</h1>
              <ul class="list-disc">
                <li>A senha deve conter no mínimo 8 caracteres;</li>
                <li>Não pode ser parecida com outras informações pessoais;</li>
                <li>Não pode ser uma senha comumente usada;</li>
                <li>Não pode ser totalmente numérica.</li>
              </ul>
            </div>
          </div>
        </main>
      </div>
      {% include 'core/partials/footer.html' %}
    </div>
  </div>
{% include 'core/partials/scripts.html' %} {% endblock content %}
